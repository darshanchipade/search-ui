(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(3880)}])},3880:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var r=s(5893),i=s(7294),n=s(9008),a=s.n(n);let l=e=>{let{className:t="w-4 h-4",size:s}=e;return(0,r.jsx)("svg",{className:t,width:s,height:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})},o=e=>{let{className:t="w-4 h-4",size:s}=e;return(0,r.jsx)("svg",{className:t,width:s,height:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})},c=e=>{let{className:t="w-3 h-3",size:s}=e;return(0,r.jsx)("svg",{className:t,width:s,height:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})})},x=e=>{let{className:t="w-3 h-3",size:s}=e;return(0,r.jsx)("svg",{className:t,width:s,height:s,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"})})};function p(e){let{searchQuery:t,setSearchQuery:s,handleSearch:i,filters:n,toggleFilter:a}=e;return(0,r.jsxs)("div",{className:"content-stretch flex flex-col gap-4 items-center justify-start relative shrink-0",children:[(0,r.jsx)("div",{className:"content-stretch flex flex-col gap-2 items-start justify-start relative shrink-0",children:(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),i()},className:"content-stretch flex gap-2 items-center justify-start relative shrink-0",children:[(0,r.jsxs)("div",{className:"bg-white h-[50px] relative rounded-[12px] shrink-0 w-[556px]",children:[(0,r.jsxs)("div",{className:"box-border content-stretch flex h-[50px] items-center justify-between leading-[0] not-italic overflow-clip px-4 py-3 relative text-nowrap w-[556px]",children:[(0,r.jsxs)("div",{className:"content-stretch flex font-sf-pro font-medium gap-1.5 items-center justify-start relative shrink-0 text-[#4d4d4d] w-full",children:[(0,r.jsx)("div",{className:"flex flex-col justify-center relative shrink-0 text-[13px] text-center",children:(0,r.jsx)(l,{className:"w-4 h-4 text-[#4d4d4d]"})}),(0,r.jsx)("input",{type:"text",value:t,onChange:e=>s(e.target.value),placeholder:"Search...",className:"bg-transparent border-none outline-none text-[12px] tracking-[-0.432px] leading-[20px] text-[#4d4d4d] placeholder-[#4d4d4d] flex-1"})]}),t&&(0,r.jsx)("button",{type:"button",onClick:()=>{s("")},className:"flex flex-col justify-center relative shrink-0 text-[13px] text-[grey] text-center cursor-pointer hover:text-gray-600 transition-colors",children:(0,r.jsx)(o,{className:"w-4 h-4 text-gray-500"})})]}),(0,r.jsx)("div",{"aria-hidden":"true",className:"absolute border border-[#d0d1d4] border-solid inset-0 pointer-events-none rounded-[12px] shadow-[0px_0.5px_2.5px_0px_rgba(0,0,0,0.3)]"})]}),(0,r.jsx)("button",{type:"submit",className:"bg-[#2180f9] text-white h-[50px] px-6 rounded-[12px] shadow-[0px_1px_2.5px_0px_rgba(0,0,0,0.24)] hover:bg-blue-600 transition-colors",children:"Search"})]})}),n.length>0&&(0,r.jsxs)("div",{className:"content-stretch flex flex-col gap-4 items-center justify-start relative shrink-0",children:[(0,r.jsx)("div",{className:"font-sf-pro leading-[0] not-italic relative shrink-0 text-[14px] text-[#111215] text-nowrap tracking-[-0.224px]",children:(0,r.jsx)("p",{className:"leading-[normal] whitespace-pre",children:"Refine your search by"})}),(0,r.jsx)("div",{className:"content-stretch flex gap-2.5 items-start justify-start relative shrink-0 flex-wrap max-w-[620px]",children:n.map(e=>(0,r.jsx)("button",{onClick:()=>a(e),className:"box-border content-stretch flex from-[#ffffff2b] gap-0.5 items-center justify-center overflow-clip px-3 py-2 relative rounded-[24px] shadow-[0px_1px_2.5px_0px_rgba(0,0,0,0.24),0px_0px_0px_0.5px_rgba(0,0,0,0.12)] shrink-0 to-[#ffffff00] cursor-pointer transition-all duration-200 ".concat(e.isActive?"bg-[#2180f9] text-white":"bg-white text-[#4d4d4d] hover:bg-gray-50"),children:(0,r.jsx)("div",{className:"font-sf-pro font-medium leading-[0] not-italic relative shrink-0 text-[12px] text-nowrap tracking-[-0.432px] ".concat(e.isActive?"text-white":"text-[#4d4d4d]"),children:(0,r.jsxs)("p",{className:"leading-[20px] whitespace-pre",children:[e.label," (",e.count,")"]})})},e.id))})]})]})}function d(e){let{results:t=[],isLoading:s=!1,onFilter:n}=e,[a,l]=(0,i.useState)("raw"),[o,p]=(0,i.useState)({}),d=(e,t)=>{navigator.clipboard.writeText(e),p(e=>({...e,[t]:!0})),setTimeout(()=>{p(e=>({...e,[t]:!1}))},7e3)};return s?(0,r.jsx)("p",{children:"Searching..."}):0===t.length?null:(0,r.jsxs)("div",{className:"content-stretch flex flex-col gap-4 items-start justify-start relative shrink-0",children:[(0,r.jsxs)("div",{className:"content-stretch flex items-center justify-between relative shrink-0 w-full",children:[(0,r.jsx)("div",{className:"font-sf-pro leading-[0] not-italic relative shrink-0 text-[18px] text-[#111215] text-nowrap tracking-[-0.288px]",children:(0,r.jsxs)("p",{className:"leading-[normal] whitespace-pre",children:["Search Results (",t.length,")"]})}),(0,r.jsxs)("div",{className:"content-stretch flex gap-0.5 items-center justify-center relative shrink-0 cursor-pointer hover:opacity-70 transition-opacity",onClick:n,children:[(0,r.jsx)("div",{className:"font-sf-pro font-medium leading-[0] not-italic relative shrink-0 text-[#111215] text-[12px] text-nowrap tracking-[-0.432px]",children:(0,r.jsx)("p",{className:"leading-[normal] whitespace-pre",children:"Filter"})}),(0,r.jsx)("div",{className:"h-[7.019px] overflow-clip relative shrink-0 w-[12.12px]",children:(0,r.jsx)(c,{className:"w-full h-full text-[#111215]"})})]})]}),(0,r.jsx)("div",{className:"content-stretch flex flex-col gap-4 items-start justify-start relative shrink-0",children:t.map(e=>(0,r.jsxs)("div",{className:"bg-white box-border content-stretch flex flex-col gap-4 items-start justify-start overflow-clip p-[16px] relative rounded-[12px] shadow-[0px_0.5px_2.5px_0px_rgba(0,0,0,0.3)] shrink-0 w-[556px]",children:[(0,r.jsxs)("div",{className:"content-stretch flex items-start justify-between relative shrink-0 w-full",children:[(0,r.jsxs)("div",{className:"content-stretch flex flex-col gap-1.5 items-start justify-start leading-[0] not-italic relative shrink-0 text-nowrap",children:[(0,r.jsx)("div",{className:"font-sf-pro font-semibold relative shrink-0 text-[#737780] text-[10px] tracking-[-0.36px]",children:(0,r.jsx)("p",{className:"leading-[normal] text-nowrap whitespace-pre",children:"Source"})}),(0,r.jsx)("div",{className:"font-sf-pro font-medium relative shrink-0 text-[#111215] text-[12px] tracking-[-0.432px]",children:(0,r.jsx)("p",{className:"leading-[normal] text-nowrap whitespace-pre",children:e.source})})]}),(0,r.jsxs)("div",{className:"content-stretch flex flex-col gap-1.5 items-start justify-start leading-[0] not-italic relative shrink-0 w-[318px]",children:[(0,r.jsx)("div",{className:"font-sf-pro font-semibold relative shrink-0 text-[#737780] text-[10px] tracking-[-0.36px]",children:(0,r.jsx)("p",{className:"leading-[normal] text-nowrap whitespace-pre",children:"Section"})}),(0,r.jsx)("div",{className:"font-sf-pro font-medium relative shrink-0 text-[#111215] text-[12px] tracking-[-0.432px] w-full",children:(0,r.jsx)("p",{className:"leading-[normal] break-all",children:e.section})})]})]}),(0,r.jsx)("div",{className:"h-0 relative shrink-0 w-full",children:(0,r.jsx)("div",{className:"absolute bottom-[-0.5px] left-0 right-0 top-[-0.5px] border-b border-[#d0d1d4]"})}),(0,r.jsxs)("div",{className:"bg-[rgba(0,0,0,0.01)] box-border content-stretch flex h-[22px] items-start justify-start overflow-clip pl-px pr-0.5 py-px relative rounded-[6px] shrink-0 w-[164px]",children:[(0,r.jsx)("button",{onClick:()=>l("raw"),className:"basis-0 box-border content-stretch flex grow h-full items-center justify-center min-h-px min-w-px mr-[-1px] px-px py-0 relative rounded-[5px] shrink-0 transition-all duration-200 ".concat("raw"===a?"bg-[#111215] text-white":"bg-transparent text-[#737780] hover:bg-gray-100"),children:(0,r.jsx)("div",{className:"basis-0 flex flex-col font-sf-pro grow h-full justify-center leading-[0] min-h-px min-w-px not-italic overflow-ellipsis overflow-hidden relative shrink-0 text-[13px] text-center text-nowrap",children:(0,r.jsx)("p",{className:"[white-space-collapse:collapse] leading-[16px] overflow-ellipsis overflow-hidden",children:"Raw"})})}),(0,r.jsx)("button",{onClick:()=>l("format"),className:"basis-0 box-border content-stretch cursor-pointer flex grow h-5 items-start justify-start min-h-px min-w-px mr-[-1px] overflow-visible px-px py-0 relative rounded-[5px] shrink-0 transition-all duration-200 ".concat("format"===a?"bg-[#111215] text-white":"bg-transparent text-[#737780] hover:bg-gray-100"),children:(0,r.jsx)("div",{className:"basis-0 flex flex-col font-sf-pro grow h-5 justify-center leading-[0] min-h-px min-w-px not-italic overflow-ellipsis overflow-hidden relative shrink-0 text-[13px] text-center text-nowrap",children:(0,r.jsx)("p",{className:"[white-space-collapse:collapse] leading-[16px] overflow-ellipsis overflow-hidden",children:"Format"})})}),(0,r.jsx)("div",{className:"absolute inset-0 pointer-events-none shadow-[0px_0px_2px_0px_inset_rgba(0,0,0,0.05),0px_0px_4px_0px_inset_rgba(0,0,0,0.05),0px_0px_2px_0px_inset_rgba(0,0,0,0.05)]"})]}),(0,r.jsx)("div",{className:"font-sf-pro font-medium leading-[0] min-w-full not-italic relative shrink-0 text-[#4d4d4d] text-[12px] tracking-[-0.432px]",style:{width:"min-content"},children:(0,r.jsx)("p",{className:"leading-[normal]",children:e.content})}),(0,r.jsx)("div",{className:"content-stretch flex gap-2 items-start justify-start relative shrink-0",children:(0,r.jsxs)("button",{onClick:()=>d(e.content,e.id),className:"from-[#ffffff2b] relative rounded-[24px] shrink-0 transition-all duration-200 cursor-pointer ".concat(o[e.id]?"bg-gray-50 hover:bg-gray-50":"bg-white hover:bg-gray-50"),children:[(0,r.jsxs)("div",{className:"box-border content-stretch flex gap-1 items-center justify-start overflow-clip px-3 py-[3px] relative",children:[(0,r.jsx)("div",{className:"h-3.5 overflow-clip relative shrink-0 w-[11.571px]",children:(0,r.jsx)(x,{className:"w-full h-full text-[#111215]"})}),(0,r.jsx)("div",{className:"font-sf-pro font-medium leading-[0] not-italic relative shrink-0 text-[12px] text-nowrap tracking-[-0.432px] text-[#111215]",children:(0,r.jsx)("p",{className:"leading-[20px] whitespace-pre",children:o[e.id]?"Copied":"Copy"})})]}),(0,r.jsx)("div",{"aria-hidden":"true",className:"absolute border border-black border-solid inset-[-1px] pointer-events-none rounded-[25px] shadow-[0px_1px_2.5px_0px_rgba(0,122,255,0.24),0px_0px_0px_0.5px_rgba(0,122,255,0.12)]"})]})})]},e.id))})]})}function h(e){let{className:t="",searchQuery:s,setSearchQuery:i,handleSearch:n,filters:a,toggleFilter:l,searchResults:o,isSearching:c}=e;return(0,r.jsx)("div",{className:"bg-[#f9f9f9] box-border content-stretch flex flex-col gap-12 items-center justify-start overflow-clip px-16 pt-16 pb-4 relative rounded-[16px] size-full ".concat(t),children:(0,r.jsxs)("div",{className:"content-stretch flex flex-col gap-8 items-center justify-start relative shrink-0",children:[(0,r.jsx)("div",{className:"content-stretch flex flex-col gap-2 items-center justify-start leading-[0] not-italic relative shrink-0 text-black text-nowrap",children:(0,r.jsx)("h1",{className:"font-sf-pro font-medium relative shrink-0 text-[48px] tracking-[-0.768px] leading-[normal] text-nowrap whitespace-pre text-[#111215]",children:"What are you looking for?"})}),(0,r.jsx)(p,{searchQuery:s,setSearchQuery:i,handleSearch:n,filters:a,toggleFilter:l}),(0,r.jsx)(d,{results:o,isLoading:c})]})})}function f(){let[e,t]=(0,i.useState)(""),[s,n]=(0,i.useState)([]),[l,o]=(0,i.useState)([]),[c,x]=(0,i.useState)([]),[p,d]=(0,i.useState)(!1),[f,u]=(0,i.useState)(!1);(0,i.useEffect)(()=>{if(0===l.length){c.length>0&&x([]);return}(async()=>{u(!0),x([]);let t={query:e,tags:[],keywords:[],context:{}};l.forEach(e=>{if("Tag"===e.type)t.tags.push(e.value);else if("Keyword"===e.type)t.keywords.push(e.value);else if(e.type.startsWith("Context:")){let s=e.type.substring(8).split("."),r=t.context;for(let e=0;e<s.length-1;e++){let t=s[e];r[t]=r[t]||{},r=r[t]}let i=s[s.length-1];r[i]=r[i]||[],r[i].includes(e.value)||r[i].push(e.value)}});try{let e=await fetch("/api/search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok)throw Error("HTTP error! status: ".concat(e.status));let s=await e.json();x(s)}catch(e){console.error("Failed to perform search:",e)}finally{u(!1)}})()},[l,e]);let m=async()=>{if(e.trim()){d(!0),n([]),o([]),x([]);try{let t=await fetch("/api/refine?query=".concat(encodeURIComponent(e)));if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let s=(await t.json()).map((e,t)=>({...e,id:"".concat(e.type,"-").concat(e.value,"-").concat(t),isActive:!1,label:e.type?"".concat(e.type,": ").concat(e.value):e.value}));n(s)}catch(e){console.error("Failed to fetch refinement chips:",e)}finally{d(!1)}}};return(0,r.jsxs)("div",{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Intelligent Search"}),(0,r.jsx)("meta",{name:"description",content:"Next.js intelligent search interface"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("main",{className:"flex justify-center items-start pt-10 bg-gray-50 min-h-screen",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl",children:[(0,r.jsx)(h,{searchQuery:e,setSearchQuery:t,handleSearch:m,filters:s,toggleFilter:e=>{let t=s.map(t=>t.id===e.id?{...t,isActive:!t.isActive}:t);n(t),o(t.filter(e=>e.isActive))},searchResults:c,isSearching:f}),p&&(0,r.jsx)("p",{className:"text-center mt-4",children:"Loading suggestions..."})]})})]})}},9008:function(e,t,s){e.exports=s(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5557)}),_N_E=e.O()}]);